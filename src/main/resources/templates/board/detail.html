<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="layout/layout :: head('detail')">
</head>

<body>
<nav class="bg-dark" th:replace="layout/layout :: menu('detail')">
</nav>

<section>
    <div class="main col-lg-8 bg-white m-auto h-100 p-3 overflow-auto">

        <!--        <div>-->
        <!--            <a class="btn btn-outline-secondary" th:href="@{/board/list(stock=${stockId})}">-->
        <!--                <i class="fa fa-arrow-left"></i>-->
        <!--            </a>-->
        <!--        </div>-->

        <h3 class="text-center pt-5 pb-2 text-primary" th:text="${board.title}"></h3>

        <div class="p-2">
            <span th:text="${#strings.replace(board.createdAt, 'T', '-')}"></span> &nbsp;
            <span class="text-primary" th:text="${board.user.username}"></span>
        </div>
        <br>
        <div class="card">
            <div class="card-body overflow-auto" style="min-height: 400px !important;">
                <span th:text="${board.content}"></span>
            </div>
        </div>

        <div class="p-2 d-flex justify-content-between">

            <a th:href="@{/board/like(s=${stockId}, b=${board.boardId})}">
                <h4>
                    <span class="text-dark">좋아요</span>
                    <i th:if="${isLiked.equals(true)}" class="fas fa-heart text-danger"></i>
                    <i th:if="${isLiked.equals(false)}" class="far fa-heart text-secondary"></i>
                </h4>
            </a>

            <div th:if="${board.user.username} == ${user}">
                <form th:action="@{/board/delete}" th:method="POST">

                    <input type="hidden" name="stockId" th:value="${stockId}">
                    <input type="hidden" name="boardId" th:value="${board.boardId}">

                    <button type="submit" class="btn btn-secondary p-2">
                        <i class="fa fa-trash"></i> 삭제
                    </button>
                </form>
            </div>
        </div>
        <div class="p-4" style="border-top: 1px solid #f3f3f3; border-bottom: 1px solid #f3f3f3;">
            <span class="text-secondary">10개의 댓글</span>
        </div>
        <div class="mt-5 p-2">

            <!-- comment form -->
            <div class="p-2">
                <form th:action="@{/board/comment}" th:method="POST">
                    <textarea class="form-control" name="comment" row="4"></textarea>
                </form>
            </div>
            <!-- comment form -->

            <!-- comment list -->
            <div class="p-2" style="border-bottom: 1px solid #f3f3f3;">
                <h4>username</h4>
                <h6 class="text-secondary">2021-08-21 21:02</h6>
                <div class="pt-2">
                    <span>좋은 의견 감사합니다</span>
                </div>
            </div>
            <!-- comment list -->

        </div>

    </div>
</section>

<!-- SIDEBAR -->
<div id="sidebar" th:replace="layout/layout :: sidebar('detail')">
</div>
<!-- // SIDEBAR -->

</body>

</html>